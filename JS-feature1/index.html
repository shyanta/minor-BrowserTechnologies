<!DOCTYPE html>
<html>
<head>
	<title>JS Feature Dialog showModal()</title>
	<style type="text/css">
		body {
			margin: 0;
			padding: 0;
			font-size: 1em;
			font-family: sans-serif;
		}
		dialog#login {
			display: block;
		}
		dialog#login.hidden {
			display: none;
		}
	</style>
</head>
<body>
	<button id="loginDialog">Log hier in</button>
	<dialog id="login">
		<form action="/" method="post">
			<label for="field-email">Email</label>
			<input type="email" id="field-email" name="field-email" autocomplete="email" required autofocus>
			<label for="field-password">Password</label>
			<input type="password" id="field-password" name="field-password" required>
			<input type="checkbox" id="field-stay-logged-in" name="field-stay-logged-in" value="stay-logged-in">
			<label for="field-stay-logged-in">Stay logged in</label>
			<a href="/">Forgot password</a>
			<button type="submit">Login</button>
		</form>
		<button id="close">Close</button>
	</dialog>
	<script type="text/javascript">
		(function() {
			var openBtn = document.getElementById('loginDialog');
			var closeBtn = document.getElementById('close');
			var dialog = document.getElementById('login');

			if (typeof HTMLDialogElement === 'function') {
				console.log("Does support Dialog");
				console.log(typeof HTMLDialogElement === 'function');
				// Update button opens a modal dialog
				openBtn.addEventListener('click', function() {
					dialog.showModal();
				});

				// Form cancel button closes the dialog box
				closeBtn.addEventListener('click', function() {
					dialog.close();
				});
			} else {
				console.log("Doesn't support Dialog");
				console.log(typeof HTMLDialogElement === 'function');
				dialog.setAttribute("class", "hidden");
				// Update button opens a modal dialog
				openBtn.addEventListener('click', function() {
					dialog.setAttribute("class", "");
				});

				// Form cancel button closes the dialog box
				closeBtn.addEventListener('click', function() {
					dialog.setAttribute("class", "hidden");
				});
			}
		})();
	</script>
</body>
</html>
